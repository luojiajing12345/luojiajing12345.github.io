<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="罗嘉劲的博客，记录一些学习的东西">
<meta name="keywords" content="罗嘉劲、前端">
<meta property="og:type" content="website">
<meta property="og:title" content="罗嘉劲的博客">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="罗嘉劲的博客">
<meta property="og:description" content="罗嘉劲的博客，记录一些学习的东西">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="罗嘉劲的博客">
<meta name="twitter:description" content="罗嘉劲的博客，记录一些学习的东西">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>罗嘉劲的博客</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">罗嘉劲的博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/18/面向对象编程/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="罗嘉劲">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="罗嘉劲的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/18/面向对象编程/" itemprop="url">面向对象编程</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-07-18T19:42:28+08:00">
                2018-07-18
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="面向对象编程"><a href="#面向对象编程" class="headerlink" title="面向对象编程"></a>面向对象编程</h2><p>object-oriented programming，也叫OO编程，也叫OOP</p>
<h2 id="或和且"><a href="#或和且" class="headerlink" title="或和且"></a>或和且</h2><p>a || b ，c &amp;&amp; d,值基本上不可能是true/false<br><code>1 &amp;&amp; 0 &amp;&amp; 2</code> ，且这只要有个false值，那么就是false，从左到右，一旦出现一个false值，后面的就不会去看了。<code>1 &amp;&amp; 0 &amp;&amp; console.log(3)</code>，console.log(3)（这个为undefinde也是假值）不会执行。<br>如果没有找到假值，<code>1 &amp;&amp; 2 &amp;&amp; 3</code>，那么就返回最后一个值3。<br><code>0 || undefined || null || 1 || 2</code>，或里只要有一个真，那么就返回第一个真，这个为1.</p>
<h2 id="全局命名空间（name-space）"><a href="#全局命名空间（name-space）" class="headerlink" title="全局命名空间（name space）"></a>全局命名空间（name space）</h2><p><code>var a=1</code>，危险代码，因为不知道a以前是什么，1是否会把a覆盖，所以要写成<code>var a=a||1</code>，可以看成<code>if(a){a=a}else(a=1)</code>。<br>所以一般用<code>var MYAPP = MYAPP || {}</code>，如果MYAPP存在，那么就等于它自己，如果不存在，那么就等于一个空对象。以后所有的变量都挂在这个MYAPP下面，例：<code>MYAPP.event={}</code>,MYAPP就像一个房间一样，装着所有的属性。</p>
<h2 id="new"><a href="#new" class="headerlink" title="new"></a>new</h2><p><code>var object = new Object()</code><br>只有属性 空<br>object.<strong>proto</strong> === Object.prototype  </p>
<p><code>var array = new Array(&#39;a&#39;,&#39;b&#39;,&#39;c&#39;)</code><br>自有属性 0:’a’ 1:’b’ 2:’c’ length:3<br>array.<strong>proto</strong> ==== Array.prototype<br>Array.prototype.<strong>proto</strong> === Object.prototype  </p>
<p><code>var fn = new Function(&#39;x&#39;,&#39;y&#39;,&#39;return x+y&#39;)</code><br>自有属性 length:2,不可见的函数体：return x+y<br>fn.<strong>proto</strong> === Function.prototype<br>Array is function<br>Array.<strong>proto</strong> === Function.prototype</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/15/添加数据库/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="罗嘉劲">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="罗嘉劲的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/15/添加数据库/" itemprop="url">添加数据库</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-07-15T14:15:43+08:00">
                2018-07-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="LeanCloud介绍"><a href="#LeanCloud介绍" class="headerlink" title="LeanCloud介绍"></a>LeanCloud介绍</h2><p><a href="&#39;https://leancloud.cn&#39;">leanCLloud官网</a>：一个自带数据库和增删改查(CRUD)功能的后台系统。有以下功能：</p>
<ol>
<li>登陆注册、手机验证码功能（收费）</li>
<li>存储任意信息</li>
<li>读取任意信息</li>
<li>搜索任意信息</li>
<li>删除任意信息</li>
<li>更新任意信息  </li>
</ol>
<h2 id="引入LeanCloud操作"><a href="#引入LeanCloud操作" class="headerlink" title="引入LeanCloud操作"></a>引入LeanCloud操作</h2><ol>
<li>创建一个应用 resume-2018-7</li>
<li>引入 av-min.js，得到 window.AV</li>
<li>初始化 AV 对象（代码直接拷）</li>
<li>新建一条数据（代码直接拷）</li>
</ol>
<h2 id="MVC–代码组织形式（思想）"><a href="#MVC–代码组织形式（思想）" class="headerlink" title="MVC–代码组织形式（思想）"></a>MVC–代码组织形式（思想）</h2><p>就是按功能把代码分成3块。  </p>
<ol>
<li>V，告诉程序，代码长什么样子，或者代码在页面哪一块</li>
<li>M，告诉程序，数据有哪些操作，例如有，初始化数据，获取数据，保存数据</li>
<li>C，控制器，负责控制其他的所有代码。（逻辑相关）</li>
</ol>
<ul>
<li>M, 只负责数据相关的操作，不会出现dom操作，不会出现html，不会出现css，只会出现获取和存储数据</li>
<li>V，只负责看得见的东西，html和css形成的视图那些。</li>
<li>C，把其他的所有都组合起来，<br>v和m传给c，c来控制他们</li>
</ul>
<h3 id="关系"><a href="#关系" class="headerlink" title="关系"></a>关系</h3><ol>
<li>用户点击view以后（因为用户只能点击view，不能点击其他），因为Controller监听了view，所以view被点击了以后它就会通知Controller。</li>
<li>Controller就会从view获取一些数据，然后就调用Model。</li>
<li>Model就会向Server请求数据。</li>
<li>Server就会接到请求后会响应数据返回给Model。</li>
<li>Model拿到数据后就会返回数据给Controller。</li>
<li>Controller拿到数据后就会更新view。</li>
<li>view和model没有交互，Controller也不去访问Server。这样形成了一条链路。<br>先<strong>View -&gt; Controller -&gt; Model -&gt; Server</strong>,然后<strong>Serve&gt;Model&gt;Controller&gt;View</strong>，这种思想叫MVC思想</li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/11/MVC的VC/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="罗嘉劲">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="罗嘉劲的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/11/MVC的VC/" itemprop="url">MVC的VC</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-07-11T15:47:54+08:00">
                2018-07-11
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="使用Swiper（轮播）"><a href="#使用Swiper（轮播）" class="headerlink" title="使用Swiper（轮播）"></a>使用Swiper（轮播）</h2><ol>
<li>加载swiper.min.js和swiper.min.css文件</li>
<li>添加HTML内容。</li>
<li>你可能想要给Swiper定义一个大小。</li>
<li>初始化Swiper：最好是挨着标签</li>
</ol>
<h2 id="CRM"><a href="#CRM" class="headerlink" title="CRM"></a>CRM</h2><p>Copy(复制) -&gt; Run（运行） -&gt; Modify（修改）</p>
<h2 id="MVC"><a href="#MVC" class="headerlink" title="MVC"></a>MVC</h2><p>Model(模式) -&gt; View(视图) -&gt; Controller（控制器）  </p>
<ol>
<li>把不同功能的js分成多个js文件，并用名字标好里面js的功能，以后回去看就能看懂了。</li>
<li>在不同的js文件里把不同显示区的html代码用js赋值给一个变量view </li>
<li>在不同的js文件里定义一个名为Controller的函数，传进一个view参数，从而用js控制html代码（view）</li>
</ol>
<h3 id="mvc是什么"><a href="#mvc是什么" class="headerlink" title="mvc是什么"></a>mvc是什么</h3><p>MVC 是一种设计模式（或者软件架构），把系统分为三层：Model数据、View视图和Controller控制器。<br>Model 数据管理，包括数据逻辑、数据请求、数据存储等功能。前端 Model 主要负责 AJAX 请求或者 LocalStorage 存储<br>View 负责用户界面，前端 View 主要负责 HTML 渲染。<br>Controller 负责处理 View 的事件，并更新 Model；也负责监听 Model 的变化，并更新 View，Controller 控制其他的所有流程。  </p>
<h2 id="立即执行函数的使用"><a href="#立即执行函数的使用" class="headerlink" title="立即执行函数的使用"></a>立即执行函数的使用</h2><p>立即执行函数在es6之前，是为了解决全局变量的问题，害怕变量名或函数名会起冲突，所以使用立即执行函数，函数里都是局部变量，而且函数也不需要名字。语法：<code>function(){}.call()</code>，这是一个匿名函数。但是使用这种方法的话<strong>Chrome报错，语法错误。</strong>  </p>
<p>然后使用<code>!function(){}.call()</code>是不会报错的，但是会改变返回值，我们不在乎这个匿名函数的返回值，所以加个！取反是没问题的</p>
<h2 id="闭包的使用"><a href="#闭包的使用" class="headerlink" title="闭包的使用"></a>闭包的使用</h2><p>假设module-2.js想读到module-1.js里面的<strong>立即执行函数里的变量</strong>，可以添加到window属性里。  </p>
<ol>
<li>首先引入顺序必须为module-1.js,module-2.js</li>
<li>module-1.js的代码<code>!function(){var person = window.person={name:&#39;frank&#39;}}.call()</code></li>
<li>module-2.js的代码<code>!function(){var person = window.person;console.log(person)}.call()</code>是可以输出的</li>
</ol>
<p><strong>使用闭包的方法</strong></p>
<ol>
<li>首先引入顺序必须为module-1.js,module-2.js</li>
<li>module-1.js的代码<code>!function(){var person ={name:&#39;frank&#39;,age:18};window.frankGrowUp = function(){person.age += 1;return person.age}}.call()</code></li>
<li>module-2.js的代码<code>!function(){var newAge = window.frankGrowUp();console.log(newAge)}.call()</code>是可以输出的</li>
<li>module-1.js里的函数使用了它外面的变量，那个函数和变量是闭包</li>
</ol>
<p><strong>匿名函数 + 闭包 + 全局变量得到的细节封装方法</strong></p>
<ol>
<li>立即执行函数使得 person 无法被外部访问 <strong>立即执行函数</strong></li>
<li>闭包使得匿名函数可以操作 person <strong>闭包</strong></li>
<li>window.frankGrowUp 保存了匿名函数的地址 <strong>变量</strong></li>
<li>任何地方都可以使用 window.frankGrowUp  =&gt; 任何地方都可以使用 window.frankGrowUp 操作 person，但是不能直接访问 person <strong>返回变量</strong></li>
</ol>
<p><strong>返回一个匿名函数的函数</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">var accessor = function()&#123;</span><br><span class="line">    var person = &#123;</span><br><span class="line">        name:&apos;frank&apos;,</span><br><span class="line">        age:18</span><br><span class="line">    &#125;</span><br><span class="line">    return function()&#123;</span><br><span class="line">        person.age +=1</span><br><span class="line">        return person.age</span><br><span class="line">    &#125;</span><br><span class="line">&#125; //return的是匿名函数</span><br><span class="line"></span><br><span class="line">var growUp = accessor.call() //accessor.call()为执行外面这个函数</span><br><span class="line">growUp.call() //growUp.call()为执行外面函数return的里面的匿名函数</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/04/AJAX入门/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="罗嘉劲">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="罗嘉劲的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/04/AJAX入门/" itemprop="url">AJAX入门</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-07-04T09:57:33+08:00">
                2018-07-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="如何发请求？"><a href="#如何发请求？" class="headerlink" title="如何发请求？"></a>如何发请求？</h3><ul>
<li>用form可以发get和post请求，但是会刷新页面或新开页面</li>
<li>用a可以发get请求，但是也会刷新页面或新开页面</li>
<li>用img可以发get请求，但是只能以图片的形式展示</li>
<li>用link可以发get请求，但是只能以css，favicon的形式展示</li>
<li>用script可以发get请求，但是只能以脚本的形式运行</li>
</ul>
<p>又没是什么方式实现  </p>
<ol>
<li>get、post、put、delete请求都行</li>
<li>想以什么形式展示就以什么形式展示</li>
</ol>
<h3 id="AJAX"><a href="#AJAX" class="headerlink" title="AJAX"></a>AJAX</h3><p>AJAX(Asynchronous Javascript And XML)即’异步的 JavaScript 和 XML’</p>
<ol>
<li>使用XMLHttpReqyest发请求</li>
<li>服务器返回了XML格式的字符串</li>
<li>JS去解析XML，并更新局部局面<br>只要满足这三个，就使用了AJAX。<br>发送请求的代码<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let request = new XMLHttpRequest() //声明一个XMLHttpRequest对象</span><br><span class="line">request.open(&apos;GET&apos;,&apos;/xxx&apos;) //初始化一个请求（对象），第一个参数是请求方法，第二个为路径，后面的参数为默认（默认为异步）</span><br><span class="line">request.send() //发送这个对象，如果该请求是异步模式(默认),该方法会立刻返回.</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="readyState属性，请求的五种状态"><a href="#readyState属性，请求的五种状态" class="headerlink" title="readyState属性，请求的五种状态"></a>readyState属性，请求的五种状态</h4><p>值 ， 状态 ， 描述<br>0 ， UNSENT(未打开)， open()方法还未调用<br>1 ， OPENED(未发送)， send()方法还未被调用<br>2 ， HEADERS_RECEIVED (已获取响应头) ， send()方法已经被调用, 响应头和响应状态已经返回<br>3 ， LOADING (正在下载响应体) ， 响应体下载中; responseText中已经获取了部分数据<br>4 ， DONE (请求完成) ， 整个请求过程已经完毕<br>使用onreadystatechange属性可以看到每个阶段的状态</p>
<h3 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a>JSON</h3><p>JSON是一种由道格拉斯·克罗克福特构想设计、轻量级的<strong>数据交换语言</strong>（取代XML）（javascript语言精粹，作者）<br><strong>JSON vs JS</strong>  </p>
<ol>
<li>JSON没有 undefined 和 function</li>
<li>JSON的字符串首尾必须是”,不能用’</li>
<li>没有变量</li>
<li>没有原型链</li>
</ol>
<p>在前端页面解析json语句的时候，一定要等request.readyState的值为4，也就是请求完毕后，使用request.onreadystatechange可以知道请求每个阶段的状态。<br>把在服务器端传过来的符合JSON语法的字符串，转化为js对应的值<code>var obj = JSON.parse(request.responseText);</code><br>请求-&gt;理解-&gt;响应-&gt;解析<br><strong>手写AJAX</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">myButton.addEventListener(&apos;click&apos;,(e)=&gt;&#123;</span><br><span class="line">   let request = new XMLHttpRequest()</span><br><span class="line">   request.open(&apos;GET&apos;,&apos;/xxx&apos;)</span><br><span class="line">   request.send()</span><br><span class="line">   request.onreadystatechange = ()=&gt;&#123;</span><br><span class="line">       if (request.readyState===4) &#123;</span><br><span class="line">           if (request.status&gt;=200 &amp;&amp; request.status&lt;300) &#123;</span><br><span class="line">               let obj = window.JSON.parse(request.responseText); </span><br><span class="line">               //使用 JSON.parse() 方法将josn数据转换为 ,JavaScript 对象。浏览器提供的。</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<h3 id="同源策略与CORS跨域（Cross-Origin-Resource-Sharing跨站资源共享）"><a href="#同源策略与CORS跨域（Cross-Origin-Resource-Sharing跨站资源共享）" class="headerlink" title="同源策略与CORS跨域（Cross-Origin Resource Sharing跨站资源共享）"></a>同源策略与CORS跨域（Cross-Origin Resource Sharing跨站资源共享）</h3><p><strong>同源策略：</strong>只有 协议+端口+域名 <strong>一模一样</strong>才允许发AJAX请求。<br>如果没有同源策略，可以直接发get请求，可以查看私人的任何东西，可以直接发post请求，可以直接转账，没有任何安全可言。AJAX之所以安全，就是因为有同源策略。  </p>
<h2 id="浏览器必须保证，有同源策略，才安全。"><a href="#浏览器必须保证，有同源策略，才安全。" class="headerlink" title="浏览器必须保证，有同源策略，才安全。  "></a>浏览器必须保证，有同源策略，才安全。  </h2><h2 id="突破同源策略-跨域"><a href="#突破同源策略-跨域" class="headerlink" title="突破同源策略 === 跨域 "></a>突破同源策略 === 跨域 </h2><p><strong>使用CORS跨域</strong><br>要想跨域发送ajax请求，可以在服务器那个接口响应部分加入<code>response.setHeader(&#39;Access-Control-Allow-Origin&#39;,&#39;url&#39;)</code>（不要全网加），url要有协议+域名+端口。</p>
<h4 id="两种跨域"><a href="#两种跨域" class="headerlink" title="两种跨域"></a>两种跨域</h4><ol>
<li>JSONP（比较旧的技术，无法post）</li>
<li>CORS（比较新的技术 ）</li>
</ol>
<h3 id="js操作请求和响应"><a href="#js操作请求和响应" class="headerlink" title="js操作请求和响应"></a>js操作请求和响应</h3><h5 id="请求"><a href="#请求" class="headerlink" title="请求"></a>请求</h5><p>使用<code>open()</code>可以设置请求的第一部分。<br>使用<code>XMLHttpRequest.setRequestHeader()</code>可以设置请求的第二部分，要在open()之后，send()之前设置。<br>第三部分不用设置，是个空行。<br>使用<code>send()</code>可以设置请求的第四部分，但要把请求方式改为post，因为get请求的话，浏览器是不会展示出第四部分的。  </p>
<hr>
<h5 id="响应"><a href="#响应" class="headerlink" title="响应"></a>响应</h5><p>使用<code>getAllResponseHeaders()</code>方法可以获取所有响应的头。<br>使用<code>status</code>获取响应状态码,使用<code>statusText</code>获取响应状态码后的OK(如果是200的话)<br>使用<code>getResponseHeader()</code>可以获取第二部分需要的内容<br>第三部分是回车<br>使用<code>request.responseText</code>可以获取响应第四部分内容。</p>
<h4 id="callback"><a href="#callback" class="headerlink" title="callback"></a>callback</h4><p>用户端把参数传过去给服务端，然后服务端调用函数call属性，再传回来，就是callback，call就是满足某种条件的函数。  也可以这样理解，callback===function,相当于把一个函数传给服务端，然后服务端用call调用，再传回来。</p>
<h3 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">function xxx()&#123;</span><br><span class="line">    return new Promise((f1, f2) =&gt; &#123;</span><br><span class="line">        doSomething()</span><br><span class="line">        setTimeout(()=&gt;&#123;</span><br><span class="line">            // 成功就调用 f1，失败就调用 f2</span><br><span class="line">        &#125;,3000)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">xxx().then(success, fail)</span><br><span class="line"></span><br><span class="line">// 链式操作</span><br><span class="line">xxx().then(success, fail).then(success, fail)</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/06/26/JSONP/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="罗嘉劲">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="罗嘉劲的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/26/JSONP/" itemprop="url">JSONP</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-06-26T09:34:19+08:00">
                2018-06-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="JSONP（JSON-Padding）"><a href="#JSONP（JSON-Padding）" class="headerlink" title="JSONP（JSON + Padding）"></a>JSONP（JSON + Padding）</h3><p>请求方：网站前端（浏览器）<br>响应方：另一个网站后端（服务器）  </p>
<ol>
<li>请求方创建script,src指向响应方，同时传一个查询参数<code>?callbackName=xxx</code></li>
<li>响应方根据查询参数callbackName,构造形如  <ol>
<li><code>xxx.call(undefined,&#39;你要的数据&#39;)</code></li>
<li><code>xxx(&#39;你要的数据&#39;)</code><br>这样的响应  </li>
</ol>
</li>
<li>浏览器接收到响应，就会执行yyy.call(undefined,’你要的数据’)</li>
<li>那么请求方就知道了他要的数据<br>这就是JSONP</li>
</ol>
<h4 id="约定"><a href="#约定" class="headerlink" title="约定"></a>约定</h4><ol>
<li>callbackName -&gt; callback(一般都叫这个，约定的)</li>
<li>xxx -&gt; 随机数（一般调用随机数）</li>
</ol>
<p><strong>请问JSPONP为什么不支持POST请求？</strong><br>因为JSONP是通过动态创建script实现的，动态创建script的时候只能使用get，无法使用post</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/06/24/DOM事件/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="罗嘉劲">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="罗嘉劲的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/24/DOM事件/" itemprop="url">DOM事件</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-06-24T13:19:21+08:00">
                2018-06-24
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="点击别处关闭浮沉层"><a href="#点击别处关闭浮沉层" class="headerlink" title="点击别处关闭浮沉层"></a>点击别处关闭浮沉层</h3><p>方案一：使用到了一个stopPropagation()终止冒泡传播,缺点是浪费内存，如果有很多个按钮要点击，那么要很多个监听函数，会占用较多内存。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">  &lt;title&gt;JS Bin&lt;/title&gt;</span><br><span class="line">  &lt;style&gt;</span><br><span class="line">  .wrapper&#123;</span><br><span class="line">  position:relative;</span><br><span class="line">  display: inline-block;</span><br><span class="line">&#125;</span><br><span class="line">.popover&#123;</span><br><span class="line">  border:1px solid red;</span><br><span class="line">  position:absolute;</span><br><span class="line">  left:100%;</span><br><span class="line">  top:0;</span><br><span class="line">  padding:10px;</span><br><span class="line">  white-space:nowrap;</span><br><span class="line">  margin-left:10px;</span><br><span class="line">  background:white;</span><br><span class="line">  display:none;</span><br><span class="line">&#125;</span><br><span class="line">.popover::before&#123;</span><br><span class="line">  position:absolute;</span><br><span class="line">  right:100%;</span><br><span class="line">  top:5px;</span><br><span class="line">  border:10px solid transparent;</span><br><span class="line">  border-right-color:red;</span><br><span class="line">  content:&apos;&apos;;</span><br><span class="line">&#125;</span><br><span class="line">.popover::after&#123;</span><br><span class="line">  position:absolute;</span><br><span class="line">  right:100%;</span><br><span class="line">  top:5px;</span><br><span class="line">  border:10px solid transparent;</span><br><span class="line">  border-right-color:white;</span><br><span class="line">  content:&apos;&apos;;</span><br><span class="line">  margin-right:-1px</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div class=&apos;wrapper&apos; id=&apos;wrapper&apos;&gt;</span><br><span class="line">    &lt;button id=&apos;clickMe&apos;&gt;点我&lt;/button&gt;</span><br><span class="line">    &lt;div id=&apos;popover&apos; class=&apos;popover&apos;&gt;</span><br><span class="line">      &lt;input type=&apos;checkbox&apos;&gt;浮层</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    clickMe.addEventListener(&apos;click&apos;,function(e)&#123;</span><br><span class="line">        popover.style.display=&apos;block&apos;</span><br><span class="line">        e.stopPropagation()</span><br><span class="line">    &#125;)</span><br><span class="line">    wrapper.addEventListener(&apos;click&apos;,function(e)&#123;</span><br><span class="line">        e.stopPropagation()</span><br><span class="line">    &#125;)</span><br><span class="line">    document.addEventListener(&apos;click&apos;,function()&#123;</span><br><span class="line">        popover.style.display=&apos;none&apos;</span><br><span class="line">    &#125;)</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure></p>
<p>方案二，使用JQ，使其不会占用太多内存,点击按钮显示，冒泡到一半被停止，点击文档后关闭。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$(clickMe).on(&apos;click&apos;,function()&#123;</span><br><span class="line">  $(popover).show()</span><br><span class="line">  $(document).one(&apos;click&apos;,function()&#123;</span><br><span class="line">    $(popover).hide()</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br><span class="line">$(wrapper).on(&apos;click&apos;,function(e)&#123;</span><br><span class="line">  e.stopPropagation()</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<p>方案三：设置个定时器，使点击按钮的时候，不会冒泡到document，当要执行定时器里的时候，冒泡过程已经过了，要执行里面的，只能点击document了。不过有bug，就是我一直点按钮的话，显示部分会不见。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$(clickMe).on(&apos;click&apos;, function() &#123;</span><br><span class="line">  $(popover).show()</span><br><span class="line">  setTimeout(function() &#123;</span><br><span class="line">    $(document).one(&apos;click&apos;, function() &#123;</span><br><span class="line">      $(popover).hide()</span><br><span class="line">      console.log(1)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,0)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<h3 id="判断页面可见性"><a href="#判断页面可见性" class="headerlink" title="判断页面可见性"></a>判断页面可见性</h3><p>即判断用户是否在看当前页面，使用visibilitychange事件。<br>这个事件可以满足一些用户需求，比如标签页隐藏的时候停止播放音乐视频、停止一些不必要的轮询，还有停止一些诸如轮播等循环动画效果等等。这些可以节省服务器和本地的开销。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/06/13/无缝轮播/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="罗嘉劲">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="罗嘉劲的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/13/无缝轮播/" itemprop="url">无缝轮播</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-06-13T18:14:48+08:00">
                2018-06-13
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h3><p>假设有三张图，开始把第一张图在前面，后面跟着第二张图，然后到第二张图时，第三张图在后面，到第三张图时，又把第一张图放第三张图后面，如此循环。</p>
<h3 id="代码思路"><a href="#代码思路" class="headerlink" title="代码思路"></a>代码思路</h3><p>一个大div，一个小div，小div里有4张图，这4张图绝对定位于同一个位置，设置3个类样式，一个为显示在中间，一个为在右边，一个为在左边，设置translateX，在左边就-100%，右边就100%，设置完这三个样式，然后设置js切换着三个样式，当第一张图片滑动过去后切换状态，跑到右边，第二张跑到中间，然后第二张滑过去，先到左边然后又到右边，第三张滑到中间，使用一个增量然后使它一直从等于从1-4，循环，然后这4张图片就一直这三个样式切换，实现了html，css，js分离。</p>
<h3 id="DOM-Events"><a href="#DOM-Events" class="headerlink" title="DOM Events"></a>DOM Events</h3><h4 id="DOM-Level-0版本"><a href="#DOM-Level-0版本" class="headerlink" title="DOM Level 0版本"></a>DOM Level 0版本</h4><p>在标准出来前就存在的规范，那时候就有onchick等</p>
<h4 id="DOM-Level-1版本"><a href="#DOM-Level-1版本" class="headerlink" title="DOM Level 1版本"></a>DOM Level 1版本</h4><ol>
<li>DOM Core</li>
<li>DOM HTML<br>只是一个汇总<h4 id="DOM-Level-2版本"><a href="#DOM-Level-2版本" class="headerlink" title="DOM Level 2版本"></a>DOM Level 2版本</h4>把事件做了个详细的说明（目前用的最广泛的），增加了Events<h4 id="DOM-Level-3版本"><a href="#DOM-Level-3版本" class="headerlink" title="DOM Level 3版本"></a>DOM Level 3版本</h4>并没有对Events做修改。<h4 id="DOM-Level-4版本"><a href="#DOM-Level-4版本" class="headerlink" title="DOM Level 4版本"></a>DOM Level 4版本</h4>还在草案中</li>
</ol>
<p>在HTML里，onclick =’要执行的代码’，一旦用户点击，浏览器就eval(‘要执行的代码’)<br>在js里，x.onclick = 函数名，一旦用户点击那么浏览器就会执行x.onclick.call(x,{})，后面那个函数名是一个函数。  </p>
<p>以下两个的区别<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xxx.addEventListrener(&apos;click&apos;,function()&#123;</span><br><span class="line">    console.log(1)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">xxx.onclick = function()&#123;</span><br><span class="line">    console,log(1)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>onclick属性是唯一的，无法绑定两个onclick，后面那个会把前面那个覆盖。有可能会把以前的覆盖（不推荐）<br>addEventListener属性是一个事件监听队列，先进先出，先绑定的先触发。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function f1()&#123;</span><br><span class="line">    console.log(1)</span><br><span class="line">&#125;</span><br><span class="line">function f2()&#123;</span><br><span class="line">    console.log(2)</span><br><span class="line">&#125;</span><br><span class="line">xxx.adEventListener(&apos;click&apos;,f1) //f1进去排队</span><br><span class="line">xxx.adEventListener(&apos;click&apos;,f2) //f2进去排队，此时队列里有f1和f2，f1先进，所以先输出1，再输出2</span><br><span class="line">xxx.removeEventListener(&apos;click&apos;,f1) //f1跑出队列了，此时队列里只有f2，点击按钮，只输出2</span><br></pre></td></tr></table></figure></p>
<p>one(一次事件监听)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function f1()&#123;</span><br><span class="line">    console.log(1)</span><br><span class="line">    xxx.removeEventListener(&apos;click&apos;,f1)</span><br><span class="line">&#125;</span><br><span class="line">xxx.adEventListener(&apos;click&apos;,f1) //只点第一次的时候，输出个1，后面再点无效，因为f1已经跑出队列了。</span><br></pre></td></tr></table></figure></p>
<h3 id="事件模型"><a href="#事件模型" class="headerlink" title="事件模型"></a>事件模型</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">  &lt;title&gt;JS Bin&lt;/title&gt;</span><br><span class="line">  &lt;style&gt;</span><br><span class="line">    div&#123;</span><br><span class="line">      border:1px solid;</span><br><span class="line">        padding:10px;</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id=&quot;grand1&quot;&gt;</span><br><span class="line">    爷爷</span><br><span class="line">    &lt;div id=&quot;parent1&quot;&gt;</span><br><span class="line">      爸爸</span><br><span class="line">      &lt;div id=&quot;child1&quot;&gt;</span><br><span class="line">        儿子</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    grand1.addEventListener(&apos;click&apos;,function f1()&#123;</span><br><span class="line">      console.log(&apos;爷爷&apos;)</span><br><span class="line">    &#125;,true)</span><br><span class="line">    parent1.addEventListener(&apos;click&apos;,function f2()&#123;</span><br><span class="line">      console.log(&apos;爸爸&apos;)</span><br><span class="line">    &#125;,true)</span><br><span class="line">    child1.addEventListener(&apos;click&apos;,function f3()&#123;</span><br><span class="line">      console.log(&apos;儿子&apos;)</span><br><span class="line">    &#125;,true)</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p>当我们点击儿子的时候，默认的情况下（不传参数的时候）会先输出儿子、爸爸、爷爷。当我们在函数后面加上true的时候，会先输出爷爷，爸爸，儿子，当加上的是false值的时候为默认的情况，从小到大。  </p>
<ul>
<li>从上到下阶段，true，捕获阶段。   </li>
<li>从下到上阶段。false或默认，冒泡阶段</li>
</ul>
<p><em>假设同个元素上，既有捕获又有冒泡</em></p>
<ul>
<li>如果是点击的那个元素（儿子），那么是谁先写，就谁先执行。  </li>
<li>如果是它的爸爸或爷爷，那么先捕获，后冒泡。<br>举例：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">grand1.addEventListener(&apos;click&apos;,function f1()&#123;</span><br><span class="line">  console.log(&apos;爷爷冒泡&apos;)</span><br><span class="line">&#125;,true)</span><br><span class="line">grand1.addEventListener(&apos;click&apos;,function f1()&#123;</span><br><span class="line">  console.log(&apos;爷爷捕获&apos;)</span><br><span class="line">&#125;,true)</span><br><span class="line">parent1.addEventListener(&apos;click&apos;,function f2()&#123;</span><br><span class="line">  console.log(&apos;爸爸冒泡&apos;)</span><br><span class="line">&#125;,true)</span><br><span class="line">    parent1.addEventListener(&apos;click&apos;,function f2()&#123;</span><br><span class="line">  console.log(&apos;爸爸捕获&apos;)</span><br><span class="line">&#125;,true)</span><br><span class="line"></span><br><span class="line">child1.addEventListener(&apos;click&apos;,function f3()&#123;</span><br><span class="line">  console.log(&apos;儿子冒泡&apos;)</span><br><span class="line">&#125;,true)</span><br><span class="line">child1.addEventListener(&apos;click&apos;,function f3()&#123;</span><br><span class="line">  console.log(&apos;儿子捕获&apos;)</span><br><span class="line">&#125;,true)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>它的输出顺序是，爷爷捕获、爸爸捕获、儿子冒泡、儿子捕获、爸爸冒泡、爷爷冒泡</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/06/12/jQuery使用基础/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="罗嘉劲">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="罗嘉劲的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/12/jQuery使用基础/" itemprop="url">jQuery使用基础</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-06-12T16:06:33+08:00">
                2018-06-12
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="jQuery的好处"><a href="#jQuery的好处" class="headerlink" title="jQuery的好处"></a>jQuery的好处</h3><ol>
<li>容易上手</li>
<li>强大的选择器</li>
<li>解决浏览器的兼容</li>
<li>完善的事件机制</li>
<li>出色的Ajax封装</li>
<li>丰富的UI</li>
<li>还有很多的特性和工具方法（链式操作，回调函数，迭代器，延迟对象）</li>
</ol>
<h3 id="jQuery基础——样式篇"><a href="#jQuery基础——样式篇" class="headerlink" title="jQuery基础——样式篇"></a>jQuery基础——样式篇</h3><h4 id="初始jQuery"><a href="#初始jQuery" class="headerlink" title="初始jQuery"></a>初始jQuery</h4><ol>
<li>jQuery 分 2 个系列版本 1.x 与 2.x，主要的区别在于 2.x 不再兼容 IE6、7、8浏览器。。jQuery 每一个系列版本分为：压缩版(compressed) 与 开发版(development)，我们在开发过程中使用开发版（开发版本便于代码修改及调试），项目上线发布使用压缩版（因为压缩版本体积更小，效率更快）。jQuery是一个JavaScript脚本库，不需要特别的安装，只需要我们在页面 <code>/&lt;head/&gt;</code> 标签内中，通过 script 标签引入 jQuery 库即可。</li>
<li><code>$(document).ready()</code>的作用是等页面的文档中的节点都加载完毕后，再执行后续的代码，因为我们在执行代码的时候，可能会依赖页面的某一个元素，我们要确保这个元素真正的被加载完毕后才能正确的使用。</li>
<li>通过原生DOM模型提供的方法获取的DOM元素就是一个DOM对象，<code>var $p = $(&#39;#imooc&#39;)</code>通过$(‘#imooc’)方法会得到一个$p的jQuery对象，$p是一个伪数组对象，这个对象里面包含了DOM对象的信息，然后封装了很多操作方法。</li>
<li>标准的JavaScript操作DOM与jQuery操作DOM的对比：一、通过jQuery方法包装后的对象，是一个类数组对象。它与DOM对象完全不同，唯一相似的是它们都能操作DOM。二、通过jQuery处理DOM的操作，可以让开发者更专注业务逻辑的开发，而不需要我们具体知道哪个DOM节点有那些方法，也不需要关心不同浏览器的兼容性问题，我们通过jQuery提供的API进行开发，代码也会更加精短。</li>
<li><code>var $div = $(&#39;div&#39;);var div=$div[0]</code>,jQuery对象转化成DOM对象。用jQuery找到所有的div元素，因为jQuery对象也是一个数组结构，可以通过数组下标索引找到第一个div元素。<code>var $div = $(&#39;div&#39;);var div=$div.get(0)</code>，使用jQuery对象自身提供的一个.get()方法直接访问jQuery对象中相关的节点。</li>
<li>如果传递给$(DOM)函数的参数是一个DOM对象，jQuery方法会把这个DOM对象给包装成一个新的jQuery对象。<code>var div = document.getElementsByTagName(&#39;div&#39;);var $div = $(div)</code>,通过getElementsByTagName获取到所有div节点的元素，结果是一个dom合集对象，再通过$(div)方法转化成jQuery对象。</li>
</ol>
<h4 id="jQuery选择器"><a href="#jQuery选择器" class="headerlink" title="jQuery选择器"></a>jQuery选择器</h4><ol>
<li>id选择器：<code>$( &quot;#id&quot; )</code></li>
<li>class选择器：<code>$( &quot;.class&quot; )</code></li>
<li>元素（标签）选择器：<code>$( &quot;element&quot; )</code></li>
<li>全选择器(<em>选择器)：`$( “</em>“ )`</li>
<li>层级选择器：子选择器<code>$(parent&gt;child)</code>，后代选择器<code>$(ancestor descendant)</code>，相邻兄弟选择器<code>$(&#39;prev + next&#39;)</code>，一般兄弟选择器<code>$(&#39;prev ~ siblings&#39;)</code></li>
<li>基本筛选选择器：:eq(), :lt(), :gt(), :even, :odd 用来筛选他们前面的匹配表达式的集合元素，根据之前匹配的元素在进一步筛选，gt是一个段落筛选，从指定索引的下一个开始，gt(1) 实际从2开始。<br>选择器 | 描述 |</li>
</ol>
<ul>
<li>| - |<br>$(‘:first’) | 匹配第一个元素，例:$(‘div:first’)|<br>$(‘:last’) | 匹配最后一个元素 |<br>$(‘:not(selector)’) | 一个用来过滤的选择器，选择所有元素，去除不匹配给定的选择器元素 |<br>$(‘:eq(index)’) | 在匹配的集合中选择索引值为index的元素<br>$(‘:gt(index)’) | 选择匹配集合中所有大于给定index（索引值）的元素<br>$(‘:it(index)’) | 选择匹配集合中所有索引值小于给定index参数的元素<br>$(‘:even’) | 选择索引值为偶数的元素，从0开始计数<br>$(‘:odd’) | 选择索引值为奇数的元素，从0开始计数<br>$(‘:header’) | 选择所有标题元素，如h1,h2,h3等<br>$(‘:lang(language)’) | 选择指定语言的所有元素<br>$(‘:root’) | 选择该文档的根元素<br>$(‘:animated’) | 选择所有正在执行动画效果的元素</li>
</ul>
<ol>
<li>内容筛选选择器：:contains与:has都有查找的意思，但是contains查找包含“指定文本”的元素，has查找包含“指定元素”的元素，如果:contains匹配的文本包含在元素的子元素中，同样认为是符合条件的。:parent与:empty是相反的，两者所涉及的子元素，包括文本节点<br>选择器 | 描述 |</li>
</ol>
<ul>
<li>| - |<br>$(‘:contains(text)’) | 选择所有包含指定文本的元素<br>$(‘:parent’) | 选择所有含有子元素或者文本的元素<br>$(‘:empty’) | 选择所有没有子元素的元素（包括文本节点）<br>$(‘:has(selector)’) | 选择元素中至少包含指定选择器的元素</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/06/12/用jQuery做个轮播/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="罗嘉劲">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="罗嘉劲的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/12/用jQuery做个轮播/" itemprop="url">用jQuery做个轮播</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-06-12T08:38:40+08:00">
                2018-06-12
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="HTML、CSS、JS，内容、样式与行为分离。"><a href="#HTML、CSS、JS，内容、样式与行为分离。" class="headerlink" title="HTML、CSS、JS，内容、样式与行为分离。"></a>HTML、CSS、JS，内容、样式与行为分离。</h3><p>html负责内容，css负责样式，js负责行为。<br>如果用html写样式，会多了很多标签，有的标签是表现样式的，有的标签是表现结构的，很难看出逻辑结构。<br>如果用css来表示内容，用::after，用户选不中内容，js也获取不到内容。<br>如果用css来表示行为，如果css里有很复杂的逻辑，就会使css很慢，就会使页面很慢。  </p>
<h3 id="轮播的思路"><a href="#轮播的思路" class="headerlink" title="轮播的思路"></a>轮播的思路</h3><ol>
<li>滚来滚去</li>
<li>用局部画面骗用户（就是把图片排成一排，不需要的图片挡住，要的显示出来就可以了。）</li>
</ol>
<h3 id="写代码过程"><a href="#写代码过程" class="headerlink" title="写代码过程"></a>写代码过程</h3><h4 id="html代码"><a href="#html代码" class="headerlink" title="html代码"></a>html代码</h4><p>一个div包裹住4张图，每张图一样的宽度，再用一个大的div把这个div包住。给大div一个和图片一样的宽度，给小div添加<code>display:flex</code>，使四张图排成一排，然后清除变形效果。给大div添加<code>overflow:hidden</code>，使超过大div范围的图片不可见。再新建个div，里面新建4个button按钮。  </p>
<h4 id="点击按钮滑动到对应的图片"><a href="#点击按钮滑动到对应的图片" class="headerlink" title="点击按钮滑动到对应的图片"></a>点击按钮滑动到对应的图片</h4><p>引入jq库，用jQ获取4个button标签，此时得到的是个伪数组集合，遍历它，然后使用点击事件，知道你点击的是哪个按钮，用<code>index()</code>方法得到你是父级元素的第几个儿子，然后用这个几去乘图片的宽度，得到每张图片应该位移多少后能到达哪个可视框框的位置，再用动画滑动即可。</p>
<h4 id="自动滑动"><a href="#自动滑动" class="headerlink" title="自动滑动"></a>自动滑动</h4><p>定义一个<code>n=0</code>和一个size为获取到的伪数组集合的长度。使用定时器，让n一直++，然后用(n%size)得到余数，假设size为4，那么得到的一直是0,1,2,3这四个数。然后用<code>:eq(index)</code>确定这个元素，给它添加trigger()方法，添加类，删除其他兄弟元素有相同类名的类。</p>
<h4 id="自动滑动可停止"><a href="#自动滑动可停止" class="headerlink" title="自动滑动可停止"></a>自动滑动可停止</h4><p>当鼠标进入大div的范围时，执行停止定时器的函数。</p>
<h4 id="停止后再自动"><a href="#停止后再自动" class="headerlink" title="停止后再自动"></a>停止后再自动</h4><p>当鼠标移出大div的范围时，再次启动定时器。</p>
<h4 id="使点击按钮，按钮变色"><a href="#使点击按钮，按钮变色" class="headerlink" title="使点击按钮，按钮变色"></a>使点击按钮，按钮变色</h4><p>当点击按钮时，定位当前所在的按钮元素，然后给它添加类名，删除其他兄弟的类名。</p>
<h4 id="代码优化"><a href="#代码优化" class="headerlink" title="代码优化"></a>代码优化</h4><p>把相同的代码封装成一个函数，然后调用这个函数。</p>
<h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;script src=&quot;//code.jquery.com/jquery-2.1.1.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">  &lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">  &lt;title&gt;JS Bin&lt;/title&gt;</span><br><span class="line">  &lt;style&gt;</span><br><span class="line">    .window&#123;</span><br><span class="line">      border:1px solid;</span><br><span class="line">      width:200px;</span><br><span class="line">      overflow: hidden;</span><br><span class="line">    &#125;</span><br><span class="line">    .images&#123;</span><br><span class="line">      display:flex;</span><br><span class="line">      transition: all 1s</span><br><span class="line">    &#125;</span><br><span class="line">    .images&gt;img&#123;</span><br><span class="line">      height:100%</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div class=&quot;window&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;images&quot; id=&apos;images&apos;&gt;</span><br><span class="line">      &lt;img src=&quot;#&quot; alt=&quot;cat1&quot; width=&apos;200px&apos;&gt;&lt;/img&gt;</span><br><span class="line">      &lt;img src=&quot;#&quot; alt=&quot;cat2&quot;</span><br><span class="line">      width=&apos;200px&apos;&gt;&lt;/img&gt;</span><br><span class="line">      &lt;img src=&quot;#&quot; alt=&quot;cat3&quot; width=&apos;200px&apos;&gt;&lt;/img&gt;</span><br><span class="line">      &lt;img src=&quot;#&quot; alt=&quot;cat4&quot; width=&apos;200px&apos;&gt;&lt;/img&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  &lt;div class=&quot;buttons&quot;&gt;</span><br><span class="line">    &lt;button id=&quot;p1&quot;&gt;图片1&lt;/button&gt;</span><br><span class="line">    &lt;button id=&quot;p2&quot;&gt;图片2&lt;/button&gt;</span><br><span class="line">    &lt;button id=&quot;p3&quot;&gt;图片3&lt;/button&gt;</span><br><span class="line">    &lt;button id=&quot;p4&quot;&gt;图片4&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p>js代码<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">var allButton = $(&apos;button&apos;)</span><br><span class="line">for (let i = 0; i &lt; allButton.length; i++) &#123;</span><br><span class="line">  $(allButton[i]).on(&apos;click&apos;, function(x) &#123;</span><br><span class="line">    var index = $(x.currentTarget).index()</span><br><span class="line">    var p = index * -200</span><br><span class="line">    $(&apos;.images&apos;).css(&#123;</span><br><span class="line">      transform: &apos;translateX(&apos; + p + &apos;px)&apos;</span><br><span class="line">    &#125;)</span><br><span class="line">    n = index</span><br><span class="line">    activeButton(allButton.eq(n))</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var n = 0</span><br><span class="line">var size = allButton.length</span><br><span class="line">var timeId = setTime()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">function setTime()&#123;</span><br><span class="line">  return setInterval(() =&gt; &#123;</span><br><span class="line">  n++</span><br><span class="line">  console.log(n)</span><br><span class="line">  var tomeId = allButton.eq(n % size).trigger(&apos;click&apos;).addClass(&apos;red&apos;).siblings(&apos;.red&apos;).removeClass(&apos;red&apos;)</span><br><span class="line">&#125;, 1000)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function activeButton($button)&#123;</span><br><span class="line">    $button</span><br><span class="line">    .addClass(&apos;red&apos;)</span><br><span class="line">    .siblings(&apos;.red&apos;).removeClass(&apos;red&apos;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$(&apos;.window&apos;).on(&apos;mouseenter&apos;, function() &#123;</span><br><span class="line">  window.clearInterval(timeId)</span><br><span class="line">&#125;)</span><br><span class="line">$(&apos;.window&apos;).on(&apos;mouseleave&apos;, function() &#123;</span><br><span class="line">  timeId = setTime()</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/06/09/jQuery入门/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="罗嘉劲">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="罗嘉劲的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/09/jQuery入门/" itemprop="url">jQuery入门</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-06-09T15:38:07+08:00">
                2018-06-09
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="jQuery概述"><a href="#jQuery概述" class="headerlink" title="jQuery概述"></a>jQuery概述</h2><p>jQuery一个javascript函数库。</p>
<h2 id="封装两个函数"><a href="#封装两个函数" class="headerlink" title="封装两个函数"></a>封装两个函数</h2><ol>
<li><p>获取到一个结点的所有兄弟节点。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">function getSiblings(node)&#123;</span><br><span class="line">  var allChildren = node.parentNode.children //获取该节点的爸爸元素的所有儿子元素</span><br><span class="line">  var array =&#123;length:0&#125; //新建个伪数组，给个length属性</span><br><span class="line">  </span><br><span class="line">  for(let i=0;i&lt;allChildren.length;i++)&#123;</span><br><span class="line">    if(allChildren[i] !== node)&#123;</span><br><span class="line">      array[array.length] = allChildren[i]</span><br><span class="line">      array.length += 1 //把爸爸元素的每一个儿子元素遍历出来后，如果不是自己，就丢到伪数组里。</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  return array //返回这个伪数组</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>添加或删除多个class</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function addClass(node,classes)&#123;</span><br><span class="line">    for (let ke in classes)&#123;</span><br><span class="line">        var value = classes[key]</span><br><span class="line">        if(value)&#123;</span><br><span class="line">            node.classList.add(key)</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            node.classList.remove(key)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">addClass(id,&#123;class:true,class,true,class:false&#125;)</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p><strong>代码优化：如果出现类似的代码，就有优化的可能</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function addClass(node,classes)&#123;</span><br><span class="line">    for (let key in classes)&#123;</span><br><span class="line">        var value = classes[key]</span><br><span class="line">        var methodName = value ?&apos;add&apos;:&apos;remove&apos;</span><br><span class="line">        node.classList[methodName](key)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">addClass(id,&#123;class1:true,class2:true,class3:false&#125;)</span><br></pre></td></tr></table></figure></p>
<ol>
<li>把他们关联起来（命名空间（一种设计模式）,就是给个名字，防止覆盖别人的命名，例如:vue.js）<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">window.ffdom = &#123;&#125; //新建个window空对象</span><br><span class="line">ffdom.getSiblings = getSiblings //把封装好的函数赋值给对象的属性</span><br><span class="line">ffdom.addClass = addClass</span><br><span class="line">ffdom.getSiblings(item3) //调用属性</span><br><span class="line">ffdom.addClass(item3,&#123;class1:true,class2:true,class3:false&#125;)</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="在Node-prototype添加属性-改原型"><a href="#在Node-prototype添加属性-改原型" class="headerlink" title="在Node.prototype添加属性(改原型)"></a>在Node.prototype添加属性(改原型)</h3><p>把<code>ffdom.getSiblings(item3)</code>改为<code>item3.getSiblings()</code>。<br>在Node.prototype里添加getSiblings属性。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">Node.prototype.getSiblings = function ()&#123;</span><br><span class="line">  var allChildren = this.parentNode.children //this就是item3</span><br><span class="line">  var array =&#123;length:0&#125;</span><br><span class="line">  </span><br><span class="line">  for(let i=0;i&lt;allChildren.length;i++)&#123;</span><br><span class="line">    if(allChildren[i] !== this)&#123;</span><br><span class="line">      array[array.length] = allChildren[i]</span><br><span class="line">      array.length += 1</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  return array</span><br><span class="line">&#125;</span><br><span class="line">Node.prototype.addClass = function(classes) &#123;</span><br><span class="line">    for (let key in classes)&#123;</span><br><span class="line">        var value = classes[key]</span><br><span class="line">        var methodName = value ?&apos;add&apos;:&apos;remove&apos;</span><br><span class="line">        this.classList[methodName](key)  //node通过this传进来</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">item3.getSibling() //隐式指定this,悄悄的把前面的参数传进去</span><br><span class="line">item3.getSibling.call(item3) //显式指定this，主要看call()里的第一个值</span><br><span class="line">item3.addClass.call(item3,&#123;class1:true,class2:true,class3:false&#125;)</span><br></pre></td></tr></table></figure></p>
<h3 id="用一个新的Node-仿jQuery"><a href="#用一个新的Node-仿jQuery" class="headerlink" title="用一个新的Node(仿jQuery)"></a>用一个新的Node(仿jQuery)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">window.jQuery = function(nodeOrSelector)&#123;</span><br><span class="line">    let node </span><br><span class="line">    if(typeof nodeOrSelector)&#123;</span><br><span class="line">        node = document.querySelector(nodeOrSelector)  //如果传的参数是字符串，就按照这个找到元素。</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">        node = nodeOrSelector  //如果不是，就不变</span><br><span class="line">    &#125;</span><br><span class="line">    return &#123;</span><br><span class="line">        getSiblings:function()&#123;</span><br><span class="line">            var allChildren = node.parentNode.children</span><br><span class="line">            var array =&#123;length:0&#125;</span><br><span class="line">  </span><br><span class="line">            for(let i=0;i&lt;allChildren.length;i++)&#123;</span><br><span class="line">                if(allChildren[i] !== node)&#123;</span><br><span class="line">                    array[array.length] = allChildren[i]</span><br><span class="line">                    array.length += 1</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            return array</span><br><span class="line">        &#125;,</span><br><span class="line">        addClass:function(classes)&#123;</span><br><span class="line">            for (let key in classes)&#123;</span><br><span class="line">                var value = classes[key]</span><br><span class="line">                var methodName = value ?&apos;add&apos;:&apos;remove&apos;</span><br><span class="line">                node.classList[methodName](key)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">//jQuery存的是哈希，上面return了一个对象</span><br><span class="line">var node2 = jQuery(&apos;#item3&apos;) //把参数传进去，然后赋值给node2</span><br><span class="line">node2.getSiblings()</span><br><span class="line">node2.addClass(&#123;class1:true,class2:true,class3:false&#125;)</span><br></pre></td></tr></table></figure>
<h4 id="操作多个节点"><a href="#操作多个节点" class="headerlink" title="操作多个节点"></a>操作多个节点</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">window.jQuery = function(nodeOrSelector)&#123;</span><br><span class="line">    let nodes = &#123;&#125;  //声明个伪数组（对象）</span><br><span class="line">    if(typeof nodeOrSelector === &apos;string&apos;)&#123;</span><br><span class="line">        let temp = document.querySelectorAll(nodeOrSelector)</span><br><span class="line">        for(let i = 0;i&lt;temp.length;i++)&#123;</span><br><span class="line">            nodes[i]=temp[i]</span><br><span class="line">        &#125; //判断是否是字符串，如果是，放到伪数组里</span><br><span class="line">        nodes.length = temp.length //修改伪数组length值</span><br><span class="line">    &#125;else if(nodeOrSelector instanceof Node)&#123;</span><br><span class="line">        nodes = &#123;</span><br><span class="line">            0:nodeOrSelector,</span><br><span class="line">            length:1</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; //如果是个节点，那就放到伪数组里</span><br><span class="line">    nodes.getSiblings = function()&#123;</span><br><span class="line">    </span><br><span class="line">    &#125;</span><br><span class="line">    nodes.addClass = function(classes)&#123;</span><br><span class="line">        classes.forEach((value)=&gt;&#123;</span><br><span class="line">        for(let i=0;i&lt;nodes.length;i++)&#123;</span><br><span class="line">            nodes[i].classList.add(value)</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;) </span><br><span class="line">    &#125; //遍历伪数组，然后逐个的给它们添加class</span><br><span class="line">    nodes.text = function(text)&#123;</span><br><span class="line">        if(text === undefined)&#123;</span><br><span class="line">        var texts =[]</span><br><span class="line">        for(let i=0;i&lt;nodes.length;i++)&#123;</span><br><span class="line">            texts.push(nodes[i].textContent)</span><br><span class="line">        &#125; //判断如果没有值，就获取值</span><br><span class="line">        return texts</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            for(let i=0;i&lt;nodes.length;i++)&#123;</span><br><span class="line">                nodes[i].textContent = text</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; //如果有值，那么修改值</span><br><span class="line">    &#125;</span><br><span class="line">    return nodes //返回伪数组</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var node2 = jQuery(&apos;ul&gt;li&apos;) //接收字符串</span><br><span class="line">node2.addClass([&apos;blue&apos;]) //传入blue字符串</span><br><span class="line">var text = node2.text();console.log(text) //获取元素内文本</span><br><span class="line">node2.text(&apos;hi&apos;) //修改元素内文本</span><br></pre></td></tr></table></figure>
<p><strong>window.$=jQuery,就可以使用$代替jQuery了，然后建议在赋值的变量名字前也加上$ .</strong></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">罗嘉劲</p>
              <p class="site-description motion-element" itemprop="description">罗嘉劲的博客，记录一些学习的东西</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">40</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">1</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">4</span>
                  <span class="site-state-item-name">标签</span>
                
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">罗嘉劲</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
